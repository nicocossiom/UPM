<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8" />
		<title>TapasTop</title>
		<!-- Font Awesome -->
		<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
		<!-- Google Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
		<!-- MDB -->
		<link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.0.0/mdb.min.css" rel="stylesheet" />
		<link rel="stylesheet" th:href="@{/css/nav.css}" />
		<link rel="stylesheet" th:href="@{/css/main.css}" />
	</head>
	<body>
		<nav>
			<img alt="" src="" th:src="@{/img/logo-color.svg}" />
			<div class="nav-item"><a th:href="@{/home/__${loginobject.user}__}">Inicio</a></div>
			<div class="nav-item"><a th:href="@{/add/__${loginobject.user}__}">Añadir plato</a></div>
			<div class="nav-item"><a th:href="@{/help/__${loginobject.user}__}">Ayuda</a></div>
			<a class="nav-profile" th:href="@{/modify/__${loginobject.user}__}">
				<i class="fas fa-user fa-2x"></i>
			</a>
		</nav>
		<h1 th:inline="text">Bienvenido a TapasTop [[${loginobject.user}]]!</h1>
		<hr />
		<div class="best-rated-dishes styled-container-main">
			<h2>Los platos con la mejor valoración</h2>
			<table class="best-rated-dishes-table">
				<thead>
					<tr>
						<!--        <th>Id</th>-->
						<th>Nombre</th>
						<th>Bar</th>
						<th>Origen</th>
						<th>Sabor</th>
						<th>Valoración</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="dish : ${dishes}">
						<!--        <td><span th:text="${dish.id}"></span></td>-->
						<td><span th:text="${dish.name}"></span></td>
						<td><span th:text="${dish.bar}"></span></td>
						<td><span th:text="${dish.origin}"></span></td>
						<td><span th:text="${dish.taste}"></span></td>
						<td><span th:text="${#numbers.formatDecimal(dish.rating, 1, 'COMMA', 1, 'POINT')}"></span></td>
						<td class="rate-button-cell">
							<a th:href="@{/rate/__${loginobject.user}__/__${dish.id}__}"> Valorar </a>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</body>

	<style>
		body * {
			font-family: "Space Mono", monospace;
			color: white;
		}

		body {
			background-color: #181a1b;
		}

		h1 {
			margin: 20px;
			text-align: center;
		}

		table {
			/*rounded borders*/
			/*border-radius: 1em;*/

			/*border: 1px solid;*/
			border-collapse: separate;
			border-spacing: 1em 1em;
			text-align: center;
			/*margin: 0 auto; */
		}

		tbody th:nth-child(even) {
		}

		.rate-button-cell {
			border-radius: 1em;
			border: 1px solid;
			border-collapse: separate;
			border-spacing: 1em 1em;
			text-align: center;
			padding: 1em 1em;
			cursor: pointer;
		}

		.rate-button-cell > a {
			display: block;
			width: 100%;
			color: white;
		}

		.rate-button-cell:hover {
			/*background: white;*/
			background-color: #fe0038;
			border: 1px solid white;
		}

		.best-rated-dishes {
			margin: 20px;
			width: auto;
		}

		.best-rated-dishes-table {
			margin: 20px auto;
		}

		hr {
			border: 2px solid white;
			margin: 20px;
		}

		.styled-container-main {
			border: 1px solid white;
			border-radius: 1em;
			/*make the background glassy*/
			background: rgba(24, 26, 27, 0.7);
			backdrop-filter: blur(20px);
			text-align: center;
			margin-top: 20px;
			position: fixed;
			padding: 1em;
		}
	</style>
</html>
