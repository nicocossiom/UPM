class TestObject:
    def __init__(self, array: list):
        self.array = array
        self.count = 0

    def get(self, index: int) -> int:
        self.count += 1
        return self.array[index]

    def size(self) -> int:
        return len(self.array)


def isLimit(pos: int, size: int) -> int:
    if size == 3:
        return 3
    if pos-1 == 0:
        return -1
    if pos+1 == size-1:
        return 1
    return 0


def recursiveSolution(max: int, min: int, to):
    center = int((max + min)/2)
    print("min:", min, "max:", max)
    print("\nCurrent position:", center)
    limits = isLimit(center, to.size())
    left = to.get(center-1)
    right = to.get(center+1)
    middle = to.get(center)
    leftBigger = middle < left
    rightBigger = middle < right
    print("left:", left, "middle:", middle, "right:", right)
    print(to.array[min:max])
    if not leftBigger and not rightBigger:
        return center
    elif limits in {-1, 3} and leftBigger:
        return center-1
    elif limits in {1, 3} and rightBigger:
        return center+1
    else:
        if leftBigger:
            res = recursiveSolution(center-1, min, to)
        elif rightBigger:
            res = recursiveSolution(max, center+1, to)
    return res


def findProblematicTemperature(to) -> int:
    to = TestObject(to)
    if to.size() == 2:
        izq = to.get(0)
        der = to.get(1)
        return izq if izq >= der else der
    if to.size() == 1:
        return 0
    if to.size() == 0:
        return -1
    res = recursiveSolution(to.size()-1, 0, to)
    print("NUMERO DE ACCESOS AL ARRAY:", to.count)
    return res


izq = [58, 78, 32, 78, 9, 11, 44, 48, 8, 59, 77, 14, 65, 60, 14, 27, 38, 5, 15, 9, 20, 20, 49, 49, 64, 23, 74, 11, 67, 74, 65, 58, 50, 60, 69, 5, 55, 38, 13, 7, 28, 60, 17, 3, 35, 28, 15, 4, 15, 68, 75, 19, 51, 32, 70, 34, 69, 65, 57, 5, 31, 41, 78, 16, 34, 50, 59, 11, 38, 62, 44, 51, 67, 25, 61, 58, 5, 59, 33, 30, 48, 10, 17, 7, 64, 77, 36, 58, 10, 27, 55, 75, 69, 49, 58, 15, 79, 2, 7, 47, 62, 8, 31, 24, 35, 9, 19, 0, 28, 6, 76, 3, 7, 45, 55, 59, 62, 14, 49, 30, 68, 42, 42, 33, 26, 39, 57, 59, 14, 64, 77, 20, 16, 57, 58, 60, 18, 65, 56, 72, 28, 16, 36, 39, 58, 48, 33, 34, 34, 24, 47, 18, 5, 50, 6, 44, 50, 78, 15, 7, 49, 0, 63, 78, 3, 37, 33, 17, 35, 3, 15, 70, 57, 78, 45, 29, 27, 22, 2, 17, 32, 78, 35, 74, 67, 72, 14, 79, 32, 75, 64, 24, 14, 38, 3, 18, 73, 63, 56, 60, 43, 68, 77, 63, 22, 19, 11, 42, 16, 21, 46, 59, 76, 37, 50, 73, 65, 62, 22, 14, 73, 2, 0, 34, 8, 7, 77, 19, 71, 27, 35, 17, 12, 57, 5, 53, 8, 36, 2, 18, 60, 64, 42, 20, 57, 48, 14, 52, 3, 9, 19, 45, 1, 22, 35, 25, 51, 69, 0, 53, 0, 14, 37, 36, 28, 4, 11, 14, 50, 4, 37, 41, 35, 75, 57, 32, 43, 4, 60, 15, 45, 46, 56, 33, 59, 27, 60, 65, 68, 53, 0, 44, 57, 44, 4, 40, 77, 75, 68, 14, 57, 72, 26, 34, 42, 41, 64, 67, 72, 36, 0, 30, 19, 31, 58, 13, 44, 7, 33, 45, 77, 60, 18, 45, 6, 72, 34, 34, 37, 0, 68, 56, 33, 3, 35, 18, 35, 48, 34, 66, 66, 37, 62, 5, 74, 50, 44, 5, 23, 11, 20, 2, 20, 44, 9, 11, 42, 23, 36, 6, 39, 9, 13, 15, 62, 74, 22, 61, 36, 3, 19, 0, 46, 10, 41, 7, 52, 73, 50, 30, 18, 29, 75, 20, 27, 58, 26, 10, 74, 44, 31, 24, 55, 24, 53, 42, 67, 17, 69, 7, 32, 22, 72, 2, 31, 8, 71, 57, 55, 58, 49, 11, 63, 17, 72, 55, 72, 59, 56, 63, 26, 44, 5, 75, 10, 67, 64, 58, 20, 59, 37, 68, 11, 77, 68, 75, 58, 51, 27, 63, 38, 71, 60, 0, 2, 10, 48, 14, 46, 33, 8, 77, 14, 26, 59, 69, 34, 12, 49, 53, 39, 12, 58, 23, 57, 76, 44, 63, 3, 78, 56, 61, 5, 54, 8, 2, 48, 13, 23, 46, 18, 50, 44, 72, 57, 59, 53, 24, 37, 25, 28, 14, 62, 57, 72, 58, 78,
       32, 78, 9, 11, 44, 48, 8, 59, 77, 14, 65, 60, 14, 27, 38, 1, 69, 65, 17, 2, 5, 15, 9, 20, 20, 49, 49, 64, 23, 74, 11, 67, 74, 65, 58, 50, 60, 69, 5, 55, 38, 13, 7, 28, 60, 17, 3, 35, 28, 15, 4, 15, 68, 75, 19, 51, 32, 70, 34, 69, 65, 57, 5, 31, 41, 78, 16, 34, 50, 59, 11, 38, 62, 44, 51, 67, 25, 61, 58, 5, 59, 33, 30, 48, 10, 17, 7, 64, 77, 36, 58, 10, 27, 55, 75, 69, 49, 58, 15, 79, 2, 7, 47, 62, 8, 31, 24, 35, 9, 19, 0, 28, 6, 76, 3, 7, 45, 55, 59, 62, 14, 49, 30, 68, 42, 42, 33, 26, 39, 57, 59, 14, 64, 77, 20, 16, 57, 58, 60, 18, 65, 56, 72, 28, 16, 36, 39, 58, 48, 33, 34, 34, 24, 47, 18, 5, 50, 6, 44, 50, 78, 15, 7, 49, 0, 63, 78, 3, 37, 33, 17, 35, 3, 15, 70, 57, 78, 45, 29, 27, 22, 2, 17, 32, 78, 35, 74, 67, 72, 14, 79, 32, 75, 64, 24, 14, 38, 3, 18, 73, 63, 56, 60, 43, 68, 77, 63, 22, 19, 11, 42, 16, 21, 46, 59, 76, 37, 50, 73, 65, 62, 22, 14, 73, 2, 0, 34, 8, 7, 77, 19, 71, 27, 35, 17, 12, 57, 5, 53, 8, 36, 2, 18, 60, 64, 42, 20, 57, 48, 14, 52, 3, 9, 19, 45, 1, 22, 35, 25, 51, 69, 0, 53, 0, 14, 37, 36, 28, 4, 11, 14, 50, 4, 37, 41, 35, 75, 57, 32, 43, 4, 60, 15, 45, 46, 56, 33, 59, 27, 60, 65, 68, 53, 0, 44, 57, 44, 4, 40, 77, 75, 68, 14, 57, 72, 26, 34, 42, 41, 64, 67, 72, 36, 0, 30, 19, 31, 58, 13, 44, 7, 33, 45, 77, 60, 18, 45, 6, 72, 34, 34, 37, 0, 68, 56, 33, 3, 35, 18, 35, 48, 34, 66, 66, 37, 62, 5, 74, 50, 44, 5, 23, 11, 20, 2, 20, 44, 9, 11, 42, 23, 36, 6, 39, 9, 13, 15, 62, 74, 22, 61, 36, 3, 19, 0, 46, 10, 41, 7, 52, 73, 50, 30, 18, 29, 75, 20, 27, 58, 26, 10, 74, 44, 31, 24, 55, 24, 53, 42, 67, 17, 69, 7, 32, 22, 72, 2, 31, 8, 71, 57, 55, 58, 49, 11, 63, 17, 72, 55, 72, 59, 56, 63, 26, 44, 5, 75, 10, 67, 64, 58, 20, 59, 37, 68, 11, 77, 68, 75, 58, 51, 27, 63, 38, 71, 60, 0, 2, 10, 48, 14, 46, 33, 8, 77, 14, 26, 59, 69, 34, 12, 49, 53, 39, 12, 58, 23, 57, 76, 44, 63, 3, 78, 56, 61, 5, 54, 8, 2, 48, 13, 23, 46, 18, 50, 44, 72, 57, 59, 53, 24, 37, 25, 28, 14, 62, 57, 72]
der = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13,
       14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 124]
der.reverse()
cero = [0, 0]
print(findProblematicTemperature([0, 1, 2]))
